{% extends 'base.html' %} 

{% block title %}Cities{% endblock  %} 

{% block content %} 
{% if user.is_authenticated %}


<div class="container-fluid col-11" id='city_container'>
  <div class="row g-2" id="city_row">

<!-- Left side of page for cities -->

    <div class="col-sm-4 p-5 rounded-start" id="all_cities">
      <h1>Cities</h1>
      <div class="list-group">
        {% for city in cities %}
        <a href="{% url 'city_detail' city.pk %}" class="list-group-item list-group-item-action" id="left_city_selector">
          <img src="{{ city.image }}" class="img-thumbnail" alt="..."> {{ city.city}}
        </a>
        {% endfor %}
      </div>
    </div>

<!-- right side of page for current city -->
    <div class="col-sm-8 p-5 rounded-end" id="display_city">
      <div class="row">
        <div class="col-8 col-sm-12">
      
          <div class="container">
            <img src="https://d3qvqlc701gzhm.cloudfront.net/thumbs/1e762419597366200bfdafa615e365d9683633fe81a56da25e96cd501abfac49-750.jpg" class="col-md-6 float-md-end mb-3 ms-md-3" alt="...">
            <h1 id="city_post_name">"{{city.cities}}"</h1>
            <h3 id="country_post_name">Country goes here</h3>
          </div>
        
        </div>

        <div class="container d-flex align-items-center justify-content-between px-5">
          <h1>Posts</h1>
          <!-- Post modal trigger -->
          <button
            type="button"
            class="px-3 py-2 button-hover mx-2 btn"
            data-bs-toggle="modal"
            data-bs-target="#post_city_modal"
            id="post_city_button"
            >
              <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" class="bi bi-plus-circle-fill" viewBox="0 0 16 16" id='new_post_button'>
              <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
              </svg>
          </button>
        </div>

<!-- Right side of page for all city post -->
        <div class="col-4 col-sm-12">
          
          <div class="container">
            <div class="list-group all_cities_txt">
              {% for post in posts %}
                <h1> {{ post.title }}</h1>
                <a href="#" class="list-group-item list-group-item-action">
                  <img src="{{ post.image }}" class="img-thumbnail" alt="..."> {{ post.title }}
                </a>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Post modal -->
<div
      class="modal fade"
      id="post_city_modal"
      tabindex="-1"
      aria-labelledby="post_city_modal_label"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header" id="post_city_header">
            <h5 class="modal-title" id="post_city_modal_label"><b>Create New Post!</b></h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="container-fluid">
              <form action="" method="post" id="post_city_form">
                <div class="mb-3">
                  {% csrf_token %}
                  <label>City</label>
                  <select class="form-select" id="post_city_select" aria-label="Floating label select example" name="city" autofocus>
                    <option value="Berlin">Berlin</option>
                    <option value="Havana">Havana</option>
                    <option value="Johannesburg">Johannesburg</option>
                    <option value="London">London</option>
                    <option value="Rio de Janeiro">Rio de Janeiro</option>
                    <option value="San Francisco">San Francisco</option>
                    <option value="Seattle">Seattle</option>
                    <option value="Singapore">Singapore</option>
                    <option value="Sydney">Sydney</option>
                    <option value="Tokyo">Tokyo</option>
                </select>
                </div>
                <div class="form-floating mb-3">
                <input type="text" class="form-control" placeholder="Leave a title here" id="city_title_float" name="title"/>
                <label for="city_title_float">Title</label>
                </div>
                <div class="form-floating mb-3">
                <input type="text" class="form-control" placeholder="Leave a title here" value="{{ user.username }}" id="city_title_float" name="author"/>
                <label for="city_title_float">Author</label>
                </div>
                <div class="form-floating mb-3">
                <textarea class="form-control" placeholder="Leave a comment here" id="city_context" name="content"></textarea>
                <label for="city_context">Got any tips?</label>
                </div>
                <div class="modal-footer">
                  <button
                    type="submit"
                    class="
                      btn
                      border-dark border-2
                      px-3
                      py-2
                      button-hover
                      pri-button
                      mx-auto
                    "
                  >
                    Submit
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>






{% endif %}
{% endblock content %}

